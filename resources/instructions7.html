<html>
<body>
    <p><strong>Please:</strong></p>

    <div class="help-message">
        <ul>
         <li>Stop the user requests / traffic to the server (either on the front-end Apache HTTPD server or firewall/router)</li>
         <li>Stop Jahia before backing up and running the fix applier</li>
         <li>Backup your Jahia installation before running the fix applier</li>
         <li>Run a pre-production test first</li>
     </ul>
 </div>
 <hr>
 <h2 style="color:#0099FF;">For a standalone installation</h2>

 <h3><span style="padding:2px 10px; background-color:#0099FF;olor:#FFF;webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;margin-right:0.5em;font-style:normal;font-family: Arial, Helvetica, sans-serif;">Step 1:</span>Jahia Core &amp; Modules Migration</h3>

 <p>The first step of the migration is to copy the fix applier you would like to use on your production server.</p>

 <p>At this stage, a list of all the files you have customized in your installation will help you to go through the upgrade and decide more easily if you want to merge, keep or overwrite the files.</p>

 <p>For all the files impacted, the fix applier will create a backup in the following folder:</p>

 <p>$USER_HOME/.fixapplier/backup/ and a detailed log is also available in your &lt;Jahia_installation&gt;/tomcat/webapps/ROOT/META-INF/updates/history/fixes/&lt;FiXAPPLIER_NAME&gt;.log or if you didn&#39;t use the default ROOT context in your &lt;JAHIA_INSTALLATION&gt;/tomcat/webapps/&lt;your context&gt;/META-INF/updates/history/fixes/&lt;FiXAPPLIER_NAME&gt;.log</p>

 <p>If the fix creator detects that a file has been modified it will try to automatically merge it. If the merge fails you will be able to overwrite the files or skip it installing the modification.</p>
 <p>If the merge fails or you decide to skip it, a diff file &lt;FILE_NAME&gt;.patch will be available in the destination folder, please make sure that you don&#39;t forget to manually apply the changes.</p>

 <h4>1. Stop Jahia</h4>

 <h4>2. Open a terminal in the JAHIA_INSTALLATION/tomcat/webapps/ROOT or JAHIA_INSTALLATION/tomcat/webapps/&lt;your context&gt; if you didn&#39;t use the default ROOT context&nbsp; and type the following command:</h4>

 <pre>java -jar &lt;PATH-TO-FIX-APPLIER&gt;/&lt;FIXAPPLIER_NAME&gt;.jar</pre>

 <p>The fix applier will manage the upgrade of your platform by deleting, updating and merging all the necessary files. It will now handles the migration of Jahia Core and all the additional Jahia modules installed on your platform.</p>

 <p>In case you have externalized your configuration (jar file or folder), you will need to apply the modification relative to jahia.properties and jahia.advanced.properties (or jahia.node.properties) manually at the appropriate place.</p>

 <p>Please review your log before starting the next step to ensure you haven&#39;t missed a file that needs to be manually merged.</p>

 <h4>3. Clean the following Tomcat folder</h4>

 <p>The fix applier now handles the cleaning of the tomcat folders automatically but depending on the OS and some permissions you may need to clean it manually.</p>

 <div class="warning-message">Remove the content of your folders &lt;JAHIA_INSTALLATION&gt;/tomcat/temp and &lt;JAHIA_INSTALLATION&gt;/tomcat/work</div>

 <h4>4. Clean the ressource folder</h4>

 <p>The fix applier will also handles the cleaning of the /webapps/&lt;your context&gt;/resources folder automatically but depending on the OS and some permissions you may need to clean it manually.</p>

 <div class="warning-message">Remove the content of your folder&nbsp; &lt;JAHIA_INSTALLATION&gt;/tomcat/webapps/ROOT/resources or &lt;JAHIA_INSTALLATION&gt;/tomcat/webapps/&lt;your context&gt;/resources if you didn&#39;t use the default ROOT context.</div>

 <h4><span style="font-size: 17.5px;">5. Start your JAHIA</span></h4>

 <h4><span style="font-size: 17.5px;">6. Restart your JAHIA after re-indexation</span></h4>

 <p>At the end of the previous startup process, go to http://localhost:8080/tools/search.jsp and click on <b>Repository re-indexing - Do repository re-indexing on the next Jahia start</b>. Start your jahia again,it will perform a complete re-indexation.</p>
 <div class="help-message">Your Digital Factory upgrade is now completed.</div>
</body>
</html>