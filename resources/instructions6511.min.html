<p> Please:&nbsp; </p> <ul> <li> Stop jahia before backing up and running the fix applier </li> <li> Backup your jahia installation before running the fix applier </li> <li> Run a pre-production test first </li> </ul> </div> <h2> Step 1 : Jahia Core Migration </h2> <p> The first step of the migration is to copy the fix applier Jahia6.5_6.5.1.0_to_6.5.1.1.jar to your production server </p> <p> At this stage, a list of all the files you have customized in your installation will help you to go through the upgrade and decide more easily if you want to merge, keep or overwrite the files. </p> <p> Open a terminal in the JAHIA_INSTALLATION/tomcat/webapps/ROOT and type the following command : </p> <p> <em>java -jar &lt;Jahia6.5_6.5.1.0_to_6.5.1.1.jar location&gt;. </em> </p> <p> <strong>example for Linux user: </strong> </p> <table border=0 cellpadding=1 cellspacing=1 style=\"width: 100%; \"> <tbody> <tr> <td bgcolor=#dbdcde> pwd : /home/jahia/<br> cd JAHIA_INSTALLATION/tomcat/webapps/ROOT<br> java -jar /home/jahia/Jahia6.5_6.5.1.0_to_6.5.1.1.jar </td> </tr> </tbody> </table> <p style=clear:both;> <strong>example for Windows user : </strong> </p> <table border=0 cellpadding=1 cellspacing=1 style=\"width: 100%; \"> <tbody> <tr> <td bgcolor=#dbdcde> dir : C:\\Users\\jahia&gt;<br> cd JAHIA_INSTALLATION/tomcat/webapps/ROOT<br> java -jar C:\\Users\\jahia\\Jahia6.5_6.5.1.0_to_6.5.1.1.jar<br> &nbsp; </td> </tr> </tbody> </table> <p style=clear:both;> The fix applier will manage the upgrade of your platform by deleting, updating and merging all the necessaries files. </p> <p> <br> For all the files impacted, the fix applier will create a backup in the following folder $USER_HOME/.fixapplier/backup/ and a detailed log is also available in your &lt;Jahia_installation&gt;/tomcat/webapps/ROOT/META-INF/updates/history/fixes/Jahia6.5_6.5.1.0_to_6.5.1.1.log </p> <p> Here is a log sample for the deletion part: </p> <table border=0 cellpadding=1 cellspacing=1 style=\"width: 100%; \"> <tbody> <tr> <td bgcolor=#dbdcde> 2011-09-07 13:19:27.964&gt; Backed up existing directory to /home/jahia/.fixapplier/backup/Jahia6.56.5.1.0_6.5.1.1/gwt...<br> 2011-09-07 13:19:28.048&gt; Deleted /home/jahia/Builds/Website/tomcat/webapps/ROOT/gwt<br> 2011-09-07 13:19:28.09&gt; Backed up existing file to /home/jahia/.fixapplier/backup/Jahia6.56.5.1.0_6.5.1.1/modules/assets/javascript/ckeditor/LICENSE.jahia.txt...<br> 2011-09-07 13:19:28.09&gt; Deleted /home/jahia/Builds/Website/tomcat/webapps/ROOT/modules/assets/javascript/ckeditor/LICENSE.jahia.txt </td> </tr> </tbody> </table> <p style=clear:both;> If the fix creator detect that a file has been modified it will try to automatically merge it. </p> <ul> <li> If the merge fails you will be able to overwrite the files or skip it installing the modification&nbsp;<br> &nbsp; </li> <li> If you decide to skip it, a diff file &lt;file_name&gt;.patch will be available in the destination folder, so make sure that you don&#39;t forget to manually apply the changes. </li> </ul> <p> Here is a log sample for the files update and automatic merging: </p> <table border=0 cellpadding=1 cellspacing=1 style=\"width: 100%; \"> <tbody> <tr> <td bgcolor=#dbdcde> 2011-09-07 13:27:17.339&gt; Error: Checksum not equal on text file /home/jahia/Builds/Website/tomcat/webapps/ROOT/modules/facets/jnt_facets/html/facetDisplay.jspf, attempting automatic merging...<br> 2011-09-07 13:27:17.341&gt; Backed up existing file to /home/jahia/.fixapplier/backup/Jahia6.56.5.1.0_6.5.1.1/modules/facets/jnt_facets/html/facetDisplay.jspf...<br> 2011-09-07 13:27:17.342&gt; Patch succeeded, saving merge result to /home/jahia/Builds/Website/tomcat/webapps/ROOT/modules/facets/jnt_facets/html/facetDisplay.jspf </td> </tr> </tbody> </table> <p style=clear:both;> For all the properties files the fix applier lets you decide if you want to try to merge it automatically. </p> <p> If the merge fails a diff file &lt;file_name&gt;.patch will be available in the destination folder, so make sure that you don&#39;t forget to manually apply the changes. </p> <p> Here is a log sample for the properties files </p> <table border=0 cellpadding=1 cellspacing=1 style=\"width: 100%; \"> <tbody> <tr> <td bgcolor=#dbdcde> Do you want to automatically merge file WEB-INF/etc/config/jahia.advanced.properties (Y)es/(N)o/(A)ll/n(O)ne ?&nbsp;<br> <br> 2011-09-07 13:33:26.829&gt; Backed up existing file to /home/jahia/.fixapplier/backup/Jahia6.56.5.1.0_6.5.1.1/WEB-INF/etc/config/jahia.advanced.properties...<br> 2011-09-07 13:33:26.83&gt; Applying patch /home/jahia/.fixapplier/temp/merge/WEB-INF/etc/config/jahia.advanced.properties.patch to file /home/jahia/Builds/Website/tomcat/webapps/ROOT/WEB-INF/etc/config/jahia.advanced.properties... </td> </tr> </tbody> </table> <p style=clear:both;> <strong>You can find all the operations made by the fix applier in the following files </strong> </p> <p> &lt;Jahia_installation&gt;/tomcat/webapps/ROOT/META-INF/updates/history/fixes/Jahia6.5_6.5.1.0_to_6.5.1.1.*&nbsp;<br> <br> <span style=color:#ff0000;>Please review your log before starting the next step to ensure you haven&#39;t missed a file that needs to be manually merged. </span> </p> <p> Clean your Tomcat folder </p> <p> Remove your folder JAHIA_INSTALLATION/tomcat/temp and JAHIA_INSTALLATION/tomcat/work </p> <h2> Step 2 : Jahia Administration </h2> <p> START JAHIA </p> <p> Caches </p> <p> Please, flush all caches of your Jahia server </p> <table border=0 cellpadding=1 cellspacing=1 style=\"width: 100%; \"> <tbody> <tr> <td bgcolor=#bfdef8> Your upgrade to Jahia 6.5.1.1 is now completed </td> </tr> </tbody> </table>